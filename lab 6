import cv2  # Імпортуємо бібліотеку OpenCV

# Відкриваємо відеопотік із веб-камери
cap = cv2.VideoCapture(0)

# Перевірка, чи відкрито камеру
if not cap.isOpened():
    print("Не вдалося відкрити веб-камеру.")
else:
    print("Обробка відео з медіанним фільтром. Натисніть 'q' для виходу.")

    while True:
        ret, frame = cap.read()  # Зчитуємо кадр з відео
        if not ret:
            break  # Якщо не зчитано — вихід

        # === Застосування фільтра ===

        # 1. Перетворення зображення в відтінки сірого
        gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)

        # 2. Застосування медіанного фільтра (розмір ядра — 5)
        filtered = cv2.medianBlur(gray, 5)

        # === Відображення результатів ===
        cv2.imshow('Оригінал (сірий)', gray)         # Сіре зображення без фільтрації
        cv2.imshow('Після медіанного фільтра', filtered)  # Відфільтроване зображення

        # Вихід при натисканні клавіші 'q'
        if cv2.waitKey(1) & 0xFF == ord('q'):
            break

# Звільнення ресурсів
cap.release()
cv2.destroyAllWindows()
